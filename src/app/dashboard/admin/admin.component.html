<div class="container">
  <app-header [userName]="userName" [userRole]="userRole"></app-header>

  <div class="dashboard">
    <h2 class="title">Manager Dashboard</h2>
    <p class="subtitle">Welcome back! Here's what's happening at LetStayInn today.</p>

    <div class="card-grid">
      <p-card class="dashboard-card">
        <div class="card-content" (click)="navigateAndScroll('rooms')">
          <div class="details">
            <h3>Room Status</h3>
              <p-chart type="doughnut" [data]="roomChartData"
                [options]="chartOptions" >
              </p-chart>
            <span>{{ availableRooms }} Available / {{ occupiedRooms }} Occupied</span>
          </div>
        </div>
      </p-card>

      <p-card class="dashboard-card">
        <div class="card-content" (click)="navigateAndScroll('employee')">
          <div class="details">
            <h3>Employee Status</h3>
            <p-chart type="doughnut" [data]="employeeChartData" [options]="chartOptions"></p-chart>
            <span>{{ availableEmployees }} Available / {{ unavailableEmployees }} Unavailable</span>
          </div>
        </div>
      </p-card>

      <p-card class="dashboard-card">
        <div class="card-content" (click)="navigateAndScroll('service-requests')">
          <div class="details">
            <h3>Pending Requests</h3>
            <h1>{{ pendingRequests }}</h1>
            <span>Service requests needing attention</span>
          </div>
        </div>
      </p-card>

      <p-card class="dashboard-card">
        <div class="card-content" (click)="navigateAndScroll('feedbacks')">
          <div class="details">
            <h3>Average Rating</h3>
            <h1>{{ averageRating().toFixed(1) }}</h1>
            <span>Guest satisfaction</span>
          </div>
        </div>
      </p-card>
    </div>

    <div class="menu-bar">
      <p-menubar [model]="items"></p-menubar>
    </div>

    <div class="child-container" id="child-container">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>